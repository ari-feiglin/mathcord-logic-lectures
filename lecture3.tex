\subsection{Signatures and Structures}

Let us recall a few definitions that should be familiar with you all.
\benum
    \item A {\it group} is a mathematical structure $(G,\circ)$ which satisfies certain axioms.
    \item A {\it field} is a mathematical structure $(F,\cdot,+,0,1)$ which satisfies certain
    axioms.
    \item A {\it poset} is a mathematical structure $(X,<)$ which satisfies certain axioms.
\eenum
We see that in all these examples, our structures are of the form $(A,\dots)$ where $\dots$ is a
collection of operators, constants, and relations.
Let us generalize this notion:

\bdefn

    An {\emphcolor (extralogical) signature} is a set $\sigma$ consisting of three types of
    symbols: operator symbols, constant symbols, and relation symbols.
    For each operator symbol and relation symbol, we assign it a value
    $\ar\s s\in{\bb N}_{\geq1}$.

\edefn

Note that in general, we can think of constants as $0$-ary functions (ones which take no inputs
and give an output).

A signature is called {\it algebraic} if it has no relation symbols.

\bdefn

    Let $\sigma$ be a signature, then a {\emphcolor $\sigma$-structure} is an object ${\cal A}$
    consisting of the following:
    \benum
        \item A set $A$, called the {\emphcolor domain} of ${\cal A}$ (also denoted
        ${\rm dom}{\cal A}$).
        \item For every operator symbol $f\in\sigma$, an operator
        $f^{\cal A}\colon A^{\ar f}\longto A$.
        \item For every constant symbol $c\in\sigma$, a constant $c^{\cal A}\in A$.
        \item For every relation symbol $r\in\sigma$, a relation $r^{\cal A}\subseteq A^{\ar r}$.
    \eenum
    These objects $\s s^{\cal A}$ are called the {\emphcolor interpretations} of the symbols
    $\s s$.

\edefn

For a $\sigma$-structure with domain $A$, we often write ${\cal A}=(A,\sigma^{\cal A})$.
For example, given the signature $\set{+,\cdot,0,1}$, we can define the structure
${\cal N}=({\bb N},+^{\cal N},\cdot^{\cal N},0^{\cal N},1^{\cal N})$, where all the symbols are
interpreted canonically.
We will also often be lazy and lose the exponent and just write the symbol.

\bdefn

    Let ${\cal A}$ be a $\sigma$-structure, and $B\subseteq A$ such that
    \benum
        \item For every $c\in\sigma$, $c^{\cal A}\in B$,
        \item For every $f\in\sigma$ and $\bar b\in B$, $f\bar b\in B$.
    \eenum
    Then we can define the {\emphcolor substructure} of ${\cal A}$ whose domain is $B$ and whose
    interpretations of the symbols are as follows:
    $$ c^{\cal B} = c^{\cal A},\qquad f^{\cal B} = f^{\cal A}\bigl|_{\cal B},\qquad
    r^{\cal B} = r^{\cal A}\cap B^{\ar r} $$

\edefn

Notice something interesting though: ${\cal Z}=({\bb Z},+)$ is a group, but
${\cal N}=({\bb N},+)$ is a substructure of ${\cal Z}$ and is not a group.
But on the other hand all the substructures of ${\cal Z}=({\bb Z},+,-,0)$ are groups.
So the signature matters!

\bdefn

    Let $\sigma_0\subseteq\sigma$ be signatures, and ${\cal A}$ a $\sigma$-structure.
    We define the {\emphcolor $\sigma_0$-reduct} of ${\cal A}$ to be the $\sigma_0$-structure
    ${\cal A}_0={\cal A}\bigl|_{\sigma_0}$ where for every $\s s\in\sigma$,
    $\s s^{{\cal A}_0}=\s s^{\cal A}$.

\edefn

\subsection{Homomorphisms and Isomorphisms}

\bdefn

    Let ${\cal A},{\cal B}$ be $\sigma$-structures.
    Then $h\colon\c A\longto\c B$ is a {\emphcolor homomorphism} if for all $f,c,r\in\sigma$ and
    $\bar a\in A^n$:
    $$ hf^{\cal A}\bar a = f^{\cal A}h\bar a,\qquad
    hc^{\cal A}=c^{\cal B},\qquad r^{\cal A}\bar a\implies r^{\cal B}h\bar a,\qquad
    \hbox{where $h\bar a=(ha_1,\dots,ha_n)$} $$
    If we replace the third condition with $r^{\cal B}h\bar a$ if and only if there exists a
    $\bar a_0\in A^n$ such that $h\bar a=h\bar a_0$ and $r^{\cal A}\bar a_0$:
    $$ r^{\cal B}h\bar a \iff (\exists\bar a_0\in A^n)(h\bar a=h\bar a_0\hbox{ and }
    r^{\cal A}\bar a_0 $$
    then $h$ is a {\emphcolor strong homomorphism}.
    An injective strong homomorphism is an {\emphcolor embedding}, and a surjective embedding is
    an {\emphcolor isomorphism}.

\edefn

Note that for an embedding, we have that
$$ r^{\cal B}h\bar a \iff (\exists\bar a_0\in A^n)(h\bar a=h\bar a_0\hbox{ and }r^{\cal A}\bar a_0
\iff r^{\cal A}\bar a $$
since $h\bar a=h\bar a_0\iff\bar a=\bar a_0$.

If there is an isomorphism $\iota\colon{\cal A}\longto{\cal B}$ then $\iota^{-1}$ is also an
isomorphism.
We write ${\cal A}\cong{\cal B}$ to say that the two structures are isomorphic.
This is an equivalence relation.

Furthermore, if $h\colon\c A\longto\c B$ then $f\c A\subseteq\c B$ is a substructure.

\bdefn

    A {\emphcolor congruence} on a $\sigma$-structure ${\cal A}$ is an equivalence relation
    $\treta$ such that for all $f\in\sigma$ and $\bar a,\bar b\in A^n$:
    $$ \bar a\treta\bar b \implies f^{\cal A}\bar a\treta f^{\cal A}\bar b $$
    where $\bar a\treta\bar b$ means $a_i\treta b_i$ for $i=1,\dots,n$.

\edefn

Notice that if $\theta$ is a congruence on ${\cal A}$, then we can define a $\sigma$-structure
on the quotient $A/\theta$.
We will denote this structure by $\c A/\theta$, and we interpret the symbols of $\sigma$ as
$$ c^{\c A/\theta} = c^{\c A}/\theta,\qquad
f^{\c A/\theta}(\bar a/\theta) = (f^{\c A}\bar a)/\theta,\qquad
r^{\c A/\theta}(\bar a/\theta) \iff (\exists\bar a_0\treta\bar a)r^{\c A}\bar a_0 $$
where $a/\theta$ is the equivalence class of $a$, and
$\bar a/\theta=(a_1/\theta,\dots,a_n/\theta)$.
Since $\theta$ is a congruence, these are all well-defined.

Notice that if $h\colon\c A\longto\c B$ is a homomorphism, then we can define its {\it kernel}
to be the congruence $\ker h$:
$$ a\kerel hb \iff ha=hb $$
Verifying that this is a congruence is easy.

\bthrm[title=The First Isomorphism Theorem]

    \benum
        \item Let $\c A$ be a $\sigma$-structure and $\theta$ a congruence on $\c A$.
        Then $\pi\colon\c A\longto\c A/\theta$ defined by $a\mapsto a/\theta$ is a surjective
        strong homomorphism.
        \item Let $h\colon\c A\longto\c B$ be a strong homomorphism, then
        $\tilde h\colon\c A/\ker h\longto h\c A$ defined by $a/\ker h\mapsto ha$ is an
        isomorphism and $h=\tilde h\circ\pi$.
        In other words, $\c A/\ker h\cong h\c A$.
    \eenum

\ethrm

\Proof verify yourself.\qed

So we get the classic commutative diagram (where $h$ is surjective):

\bigskip
\centerline{
\def\diagrowbuf{1cm}
\def\diagcolbuf{1cm}
\drawdiagram{
    $\c A$ & $\c A/\ker h$\cr
           & $\c B$\cr
}{
    \diagarrow{from={1,1}, to={1,2}, text=$\pi$, y distance=.25cm}
    \diagarrow{from={1,1}, to={2,2}, text=$h$, x distance=-.25cm}
    \diagarrow{from={1,2}, to={2,2}, text=$\tilde h$, x distance=.25cm}
}}
\bigskip

\subsection{The Syntax of First-Order Logic}

In order to discuss logic, we need a language to talk about.
Namely, we want to define first order logic.
This language will be built in two steps.

First, let us define $\Var=\set{v_1,v_2,\dots}$.
Unlike in propositional logic, our set of variables is kept constant and global.

\bdefn

    Let $\sigma$ be an extralogical signature, we define $\sigma$-terms recursively
    as follows:
    \benum
        \item $c\in\sigma$ and $x\in \Var$ are both terms.
        \item if $f\in\sigma$ and $t_1,\dots,t_n$ are terms, then so is $ft_1\cdots t_n$.
    \eenum
    Let the set of terms be denoted ${\cal T}_\sigma$ (we omit the subscript generally).

\edefn

${\cal T}_\sigma$ is an algebraic structure over the reduct of $\sigma$ to only function and
constant symbols.
For $c\in\sigma$, $c^{\c T_\sigma}=c$ (the string).
And for $f\in\sigma$ and $t_1,\dots,t_n\in\c T_\sigma$, $f(t_1,\dots,t_n)=ft_1\cdots t_n$.
Thus we call $\c T_\sigma$ the {\it term algebra} over $\sigma$.

There is of course a notion of term induction: let $\c E$ be a property of strings such that
\benum
    \item for $c\in\sigma$ and $x\in \Var$, both $\c Ec$ and $\c Ex$,
    \item for $f\in\sigma$ and $t_1,\dots,t_n\in\c T_\sigma$, $\c Et_1,\dots,\c Et_n$ implies
            $\c Eft_1\cdot t_n$
\eenum
then $\c Et$ for all terms $t$.

There is also a unique reconstruction property for terms:
$$ ft_1\cdots t_n = fs_1\cdots s_n \implies t_1=s_1,\dots,t_n=s_n $$
Thus we can define functions on terms by term recursion.
Namely, we wish to define $\var t$, the set of variables in $t$.
This is done by
$$ \var c=\varnothing,\qquad \var x=\set x,\qquad \var ft_1\cdots t_n=\bigcup_{i=1}^n\var t_i $$

\bdefn

    Let $\sigma$ be an extralogical signature, we define $\sigma$-formulas recursively as follows:
    \benum
        \item if $s,t\in\c T_\sigma$ then $s\eq t$ is a formula.
                We use the boldface $\eq$ to distinguish the equality symbol and the
                metatheoretical equality.
        \item if $r\in\sigma$ and $t_1,\dots,t_n\in\c T_\sigma$ then $rt_1\cdots t_n$ is a
                formula.
        \item If $\alpha,\beta$ are formulas and $x$ is a variable, then $(\alpha\land\beta),
                \neg\alpha,\forall x\alpha$ are formulas.
    \eenum
    Formulas constructed by $(1)$ and $(2)$ are called {\emphcolor atomic formulas}.
    Let us denote the set of $\sigma$-formulas by $\c L_\sigma$.
    We will identify $\sigma$ with $\c L_\sigma$, and just write $\c L$ in place of $\sigma$.

\edefn

$\forall$ is called the {\it universal quantifier}.

Note that we take only the logical signature $\ell=\set{{\neg},{\land}}$.
We do not lose any generality since it is complete.
We can abbreviate other logical symbols as before:
$(\alpha\lor\beta)=\neg(\neg\alpha\land\neg\beta)$, etc.

We can also define the {\it existential quantifier} $\exists$ by
$\exists x\alpha=\neg\forall x\neg\alpha$.

So for example, over the signature $\set{{+},{<},1}$, we can write the formulas
$$ \forall x(x<x+1),\qquad \forall x\exists y(y\eq x+x),\qquad \forall x\exists y(x\eq2y) $$

There is of course also formula induction and the unique formula reconstruction property.
Thus we can define formulas by recursion on formulas.
For example $\var\phi$:
$$ \var s\eq t = \var s\cup\var t,\qquad \var rt_1\cdots t_n = \bigcup_{i=1}^n\var t_i,
\quad \var\forall x\alpha = \set x\cup\var\alpha $$

Let us examine the following formula (over the necessary signature):
$$ \forall x\,x+y\eq0 $$
here we quantify over $x$, but $y$ remains unquantified.
Similarly, we can examine
$$ (\forall x\exists y\,x+y\eq0)\land(\forall x\,x<y) $$
which does have a quantifier which quantifies over $y$, but it also contains a $y$ which is not
within the scope of a quantifier of $y$.
We call such variables {\it free}.

We define $\free\phi$ to be the set of free variables of $\phi$:
$$ \free\alpha = \var\alpha\hbox{ for atomic $\alpha$},\qquad
\free(\alpha\land\beta)=\free\alpha\cup\free\beta,\qquad
\free\neg\alpha=\free\alpha,\qquad \free\forall x\alpha = \free\alpha-\set\alpha $$
We write $\phi=\phi(\bar x)$ to mean that $\phi$ is a variable with free variables in
$\set{x_1,\dots,x_n}$, i.e. $\free\phi\subseteq\set{x_1,\dots,x_n}$.
Similarly for a term $t$, we write $t=t(\bar x)$ to mean $\var t\subseteq\set{x_1,\dots,x_n}$.

\bdefn

    An {\emphcolor $\c L$-sentence} is an $\c L$-formula with no free variables.

\edefn

\subsection{The Semantics of First-Order Logic}

Just like we evaluated propositional formulas using a valuation, we will define a {\it first-order
model} which will be used to evaluate formulas.

\bdefn

    A {\emphcolor model} is a pair $(\c A,w)$ consisting of an $\c L$-structure $\c A$
    and a valuation $w\colon \Var\longto A$ (we denote the image of $x$ under $w$ by $x^w$).
    We denote $r^{\c A},f^{\c A},c^{\c A},x^w$ by $r^{\c M},f^{\c M},c^{\c M},x^{\c M}$.

\edefn

Let $\c M$ be a model and $t\in\c T$ a term.
Then we can define the value of $t$ in $\c M$, which we denote $t^{\c M}$, recursively:
\benum
    \item $c^{\c M}$ and $x^{\c M}$ are already defined,
    \item $(ft_1\cdots t_n)^{\c M}=f^{\c M}(t_1^{\c M},\dots,t_n^{\c M})$.
\eenum

We define the satisfaction relation as follows: for a model $\c M$ and formula $\phi$
we write $\c M\vDash\phi$ to mean that $\phi$ is valid under $\c M$.
Formally, we do so recursively:

\centerline{\vbox{\halign{$#$\hfil\tabskip=.25cm&${}\iff\quad#$\hfil\tabskip=0pt\cr
\c M\vDash s\eq t & s^{\c M}=t^{\c M}\cr
\c M\vDash r\bar t & r^{\c M}\bar t^{\c M}\cr
\c M\vDash(\alpha\land\beta) & \c M\vDash\alpha\hbox{ and }\c M\vDash\beta\cr
\c M\vDash\neg\alpha & \c M\nvDash\alpha\cr
\c M\vDash\forall x\alpha & \c M^a_x\vDash\alpha\hbox{ for all $a\in A$}\cr
}}}

For the last clause, we define $\c M^a_x$ to be the model whose valuation is $w^a_x$ which agrees
with $w$ except on $x$, which it defines to be $a$.
We can similarly define $\c M^{\bar a}_{\bar x}$ which maps $\bar x$ to $\bar a$.
Then writing $\forall\bar x\phi$ for $\forall x_1\cdots\forall x_n\phi$,
$$ \c M\vDash\forall\bar x\phi \iff \c M^{\bar a}_{\bar x}\vDash\phi\hbox{ for all $\bar a\in A$}
$$
We can also see easily that $\c M\vDash\alpha\lor\beta$ iff $\c M\vDash\alpha$ or
$\c M\vDash\beta$, etc.
And $\c M\vDash\exists x\phi\iff\c M^a_x\vDash\phi$ for some $a\in A$.

\bdefn

    \benum
        \item A formula or set of formulas is {\emphcolor satisfiable} if it has a $\c L$-model.
        \item A formula is a {\emphcolor tautology} if it is satisfied by every $\c L$-model.
        \item $\alpha,\beta\in\c L$ are {\emphcolor equivalent}, $\alpha\equiv\beta$, if for all
        $\c L$-models $\c M$, $\c M\vDash\alpha\iff\c M\vDash\beta$.
        \item If $\c A$ is an $\c L$-structure, then $\c A\vDash\phi$ iff $\c M\vDash\phi$ for
                every model over $\c A$.
        \item Let $X$ be a set of formulas, then $X\vDash\phi$ iff $\c M\vDash\phi$ for all
                $\c M\vDash X$ (this defines the consequence relation).
    \eenum

\edefn

\blemm[title=The Coincidence Lemma]

    Let $\phi\in\c L$ be an $\c L$-formula, $\free\phi\subseteq U\subseteq \Var$, and $\c M,\c M'$ be two $\c L$-models over the same domain $A$ such that $x^{\c M}=x^{\c M'}$ for all $x\in U$ and
    $\s s^{\c M}=\s s^{\c M'}$ for all extralogical symbols occurring in $\phi$.
    Then $\c M\vDash\phi\iff\c M'\vDash\phi$.

\elemm

\Proof first we prove by term induction that for any term $t(\bar x)$ with $\bar x\subseteq U$, $t^{\c M}=t^{\c M'}$.
For prime terms this is by assumption.
Suppose $t=ft_1\cdots t_n$, then by assumption $f^{\c M}=f^{\c M'}$ and by induction $t_i^{\c M}=t_i^{\c M'}$ for $i=1,\dots,n$.
So
$$ t^{\c M} = f^{\c M}(t_1^{\c M},\dots,t_n^{\c M}) = f^{\c M'}(t_1^{\c M'},\dots,t_n^{\c M'}) = t^{\c M'} $$
as required.

Now we proceed by formula induction to show $\c M\vDash\phi\iff\c M'\vDash\phi$.
For atomic formulas this is due to what we just proved:
$$ \c M\vDash t\eq s \iff t^{\c M} = s^{\c M} \iff t^{\c M'} = s^{\c M'} \iff \c M'\vDash t\eq s,\qquad \c M\vDash r\bar t \iff r^{\c M}\bar t^{\c M} \iff r^{\c M'}\bar t^{\c M'}
\iff \c M'\vDash r\bar t $$
For compound formulas this is trivial:
$$ \displaylines{
    \c M\vDash\alpha\land\beta \iff \c M\vDash\alpha\hbox{ and }\c M\vDash\beta \iff \c M'\vDash\alpha\hbox{ and }\c M'\vDash\beta \iff \c M'\vDash\alpha\land\beta,\cr
    \c M\vDash\neg\alpha \iff \c M\nvDash\alpha \iff \c M'\nvDash\alpha \iff \c M'\vDash\neg\alpha
} $$
Now, notice that for $\phi=\forall x\alpha$, let $a\in A$ then $\c M^a_x$ and $(\c M')^a_x$ agree on $U\cup\set x$.
Since $\free\phi\subseteq U$, we must have that $\free\alpha\subseteq U\cup\set x$.
And thus we have $\c M^a_x\vDash\alpha\iff(\c M')^a_x\vDash\alpha$ for all $a\in A$, thus $\c M\vDash\forall x\alpha\iff\c M'\vDash\forall x\alpha$ as required.
\qed

We now adopt the notation that for $\phi=\phi(\bar x)$ and $\bar a\in A$, $\c A\vDash\phi[\bar a]$ if $(\c A,w)\vDash\phi$ for $\bar x^w=\bar a$.
In particular if $\phi$ is a sentence, then we can write $\c A\vDash\phi$.
Similarly if $t=t(\bar x)$ then we write $t^{\c A}(\bar a)$ for $t^{(\c A,w)}$ where $\bar x^w=\bar a$.

A corollary of this lemma is that if $\c L\subseteq\c L'$ and $\c M$ is an $\c L'$-model, then it can be expanded arbitrarily to $\c M'$ an $\c L'$-model by setting $\s s^{\c M'}$ arbitrarily for
$\s s\in\c L'-\c L$.
Then for every $\phi\in\c L$, $\c M\vDash_{\c L}\phi\iff\c M'\vDash_{\c L'}\phi$.
Thus for $X\subseteq\c L$ and $\phi\in\c L$, $X\vDash_{\c L}\phi\iff X\vDash_{\c L'}\phi$.

Another corollary is the ``omission of superfluous quantifiers'': that is if $x\notin\free\phi$:
$$ \forall x\phi \equiv \phi \equiv \exists x\phi $$
Indeed if $x\notin\free\phi$ then $\c M^a_x$ and $\c M$ agree on $\free\phi$, and thus $\c M\vDash\phi\iff\c M^a_x\vDash\phi$.

Now, if $\c A\subseteq\c B$ and $\c M=(\c A,w)$ and $\c M'=(\c B,w)$ then for every $t\in\c T$, $t^{\c M}=t^{\c M'}$.
This is proven easily using term induction.

\blemm[title=The Substructure Lemma]

    For $\c L$-structures $\c A,\c B$ with $A\subseteq B$, the following are equivalent:
    \benum
        \item $\c A\subseteq\c B$,
        \item $\c A\vDash\phi[\bar a]\iff\c B\vDash\phi[\bar a]$ for all atomic $\phi(\bar x)$ and $\bar a\in A$,
        \item $\c A\vDash\phi[\bar a]\iff\c B\vDash\phi[\bar a]$ for all quantifier free $\phi(\bar x)$ and $\bar a\in A$.
    \eenum

\elemm

\Proof $(1)\implies(2)$: it is sufficient to prove this for $\c M=(\c A,w)$ and $\c M'=(\c B,w)$ that $\c M\vDash\phi\iff\c M'\vDash\phi$ for quantifier free $\phi$.
Recall that $t^{\c M}=t^{\c M'}$, so we obtain the result immediately for atomic formulas.

$(2)\implies(3)$: we prove this by formula induction.
The base case is our assumption and the two steps: conjunction and negation, are trivial.

$(3)\implies(2)$ is trivial, and we show $(2)\implies(1)$: we know that
$$ r^{\c A}\bar a\iff \c A\vDash r\bar x[\bar a] \iff \c B\vDash r\bar x[\bar a] \iff r^{\c B}\bar a $$
and
$$ f^{\c A}\bar a=b \iff \c A\vDash(f\bar x\eq y)[\bar a,b] \iff \c B\vDash(f\bar x\eq y)[\bar a,b] \iff f^{\c B}\bar a = b $$
thus $f^{\c A}$ and $f^{\c B}$ agree on $A$.
Thus $\c A\subseteq\c B$ as required (we can view constants as $0$-ary functions).
\qed

A formula of the form $\forall\bar x\phi$ with $\phi$ quantifier free is called a {\it universal formula} or a {\it $\forall$-formula}.
Similarly a formula of the form $\exists\bar x\phi$ with $\phi$ quantifier free is a {\it existential formula} or a {\it $\exists$-formula}.
For example, we can define the existential sentences:
$$ \exists_1 = \exists v_1\,v_1\eq v_1,\qquad \exists_n = \exists v_1\cdots\exists v_n\,\bigwedge_{1\leq i<j\leq n}v_i\neq v_j $$
so $\c A\vDash\exists_n$ if and only if there exists at least $n$ elements in $\c A$.
We can similarly define $\exists_{=n} = \exists_n\land\neg\exists_{n+1}$.
Since structures must be nonempty, $\exists_1$ is a tautology, and thus we can define $\top=\exists_1$, and $\exists_0=\bot=\neg\top$.

\bcoro

    Let $\c A\subseteq\c B$, then every $\forall$-sentence valid in $\c B$ is valid in $\c A$.
    Dually, every $\exists$-sentence valid in $\c A$ is valid in $\c B$.

\ecoro

\Proof if $\c B\vDash\forall\bar x\phi(\bar x)$ then let $\bar a\in A$, so $\c B\vDash\phi[\bar a]$.
By the lemma, since $\phi$ is quantifier-free, $\c A\vDash\phi[\bar a]$.
Thus $\c A\vDash\forall\bar x\phi$.
Similarly for the dual.
\qed

\bthrm[title=The Invariance Theorem]

    Let $\c A\cong\c B$ with an isomorphism $\iota\colon\c A\longto\c B$.
    Then for all $\phi=\phi(\bar x)$ and $\bar a\in A$,
    $$ \c A\vDash\phi[\bar a] \iff \c B\vDash\phi[\iota\bar a] $$

\ethrm

Notice that in the case that $\phi$ is a sentence, this theorem tells us $\c A\vDash\phi\iff\c B\vDash\phi$.
This theorem generalizes to higher-order logics as well, and it formalizes why we care about isomorphisms so much: isomorphic structures satisfy the same sentences and for all intents and purposes, the
same.

\Proof it is convenient to reformulate this as $\c M\vDash\phi\iff\c M'\vDash\phi$ for $\c M=(\c A,w)$ and $\c M=(\c B,\iota\circ w)$.
First we prove that $\iota(t^{\c M})=t^{\c M'}$ for terms $t$: for prime terms we have $\iota(x^{\c M})=\iota\circ w(x)=x^{\c M'}$ and $\iota(c^{\c M})=\iota(c^{\c A})=c^{\c B}=c^{\c M'}$.
Inductively since $\iota$ is a homomorphism:
$$ \iota((f\bar t)^{\c M}) = \iota(f^{\c M}\bar t^{\c M}) = f^{\c M'}\iota\bar t^{\c M} = f^{\c M'}\bar t^{\c M'} = (f\bar t)^{\c M'} $$
Notice that we only relied on $\iota$ being a homomorphism: this claim holds for all homomorphisms, not just isomorphisms.

We proceed by formula induction.
For atomic formulas this is simple:
$$ \c M\vDash t\eq s \iff t^{\c M}=s^{\c M} \iff \iota(t^{\c M}) = \iota(s^{\c M}) \iff t^{\c M'} = s^{\c M'} \iff \c M\vDash t\eq s $$
similar for relations.
Conjunction and negation are clear, and quantification is due to $\iota$'s surjectivity.
\qed

\bdefn

    Two $\c L$-structures are {\emphcolor (elementarily) equivalent}, denoted $\c A\equiv\c B$, if $\c A\vDash\phi\iff\c B\vDash\phi$ for all sentences $\phi$.

\edefn

By the previous theorem, isomorphic structures are elementarily equivalent.

